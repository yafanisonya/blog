<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS 补充 | Fanison&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="Keep Learning, Keep Growing, Keep Succeeding">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b6bfb1ac.css" as="style"><link rel="preload" href="/blog/assets/js/app.07b64513.js" as="script"><link rel="preload" href="/blog/assets/js/2.54c8166e.js" as="script"><link rel="preload" href="/blog/assets/js/29.937c890b.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.4b8eb1aa.js"><link rel="prefetch" href="/blog/assets/js/11.7010f881.js"><link rel="prefetch" href="/blog/assets/js/12.82db1fc0.js"><link rel="prefetch" href="/blog/assets/js/13.d36a1f09.js"><link rel="prefetch" href="/blog/assets/js/14.1c1547cb.js"><link rel="prefetch" href="/blog/assets/js/15.def60bb7.js"><link rel="prefetch" href="/blog/assets/js/16.89ae9827.js"><link rel="prefetch" href="/blog/assets/js/17.53815d8e.js"><link rel="prefetch" href="/blog/assets/js/18.f829032d.js"><link rel="prefetch" href="/blog/assets/js/19.3ba159ee.js"><link rel="prefetch" href="/blog/assets/js/20.17b5d869.js"><link rel="prefetch" href="/blog/assets/js/21.efd748ec.js"><link rel="prefetch" href="/blog/assets/js/22.a2cdb77c.js"><link rel="prefetch" href="/blog/assets/js/23.c64283f9.js"><link rel="prefetch" href="/blog/assets/js/24.ca42ffad.js"><link rel="prefetch" href="/blog/assets/js/25.72c8764f.js"><link rel="prefetch" href="/blog/assets/js/26.52cda476.js"><link rel="prefetch" href="/blog/assets/js/27.440612f7.js"><link rel="prefetch" href="/blog/assets/js/28.ed132f17.js"><link rel="prefetch" href="/blog/assets/js/3.415de851.js"><link rel="prefetch" href="/blog/assets/js/4.9f593b04.js"><link rel="prefetch" href="/blog/assets/js/5.b610c8cf.js"><link rel="prefetch" href="/blog/assets/js/6.7b1f2309.js"><link rel="prefetch" href="/blog/assets/js/7.2de44a20.js"><link rel="prefetch" href="/blog/assets/js/8.b762ef4e.js"><link rel="prefetch" href="/blog/assets/js/9.322181e2.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b6bfb1ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Fanison's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/frontend/" class="nav-link">
  前端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目总结" class="dropdown-title"><span class="title">项目总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目总结" class="mobile-dropdown-title"><span class="title">项目总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/project/" class="nav-link">
  Vue3 Wheel
</a></li><li class="dropdown-item"><!----> <a href="/blog/project/morney.html" class="nav-link">
  React Money
</a></li><li class="dropdown-item"><!----> <a href="https://yafanisonya.github.io/note/money/note.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue Money
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://yafanisonya.github.io/note/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  学习笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/yafanisonya" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/frontend/" class="nav-link">
  前端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目总结" class="dropdown-title"><span class="title">项目总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目总结" class="mobile-dropdown-title"><span class="title">项目总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/project/" class="nav-link">
  Vue3 Wheel
</a></li><li class="dropdown-item"><!----> <a href="/blog/project/morney.html" class="nav-link">
  React Money
</a></li><li class="dropdown-item"><!----> <a href="https://yafanisonya.github.io/note/money/note.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue Money
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://yafanisonya.github.io/note/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  学习笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/yafanisonya" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/blog/cv/" class="sidebar-link">简历</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/frontend/" class="sidebar-link">手写代码</a></li><li><a href="/blog/frontend/fr002.html" class="sidebar-link">JS进阶</a></li><li><a href="/blog/frontend/fr003.html" class="sidebar-link">JS 基础</a></li><li><a href="/blog/frontend/fr004.html" class="sidebar-link">HTML、CSS、DOM</a></li><li><a href="/blog/frontend/typescript.html" class="sidebar-link">TypeScript</a></li><li><a href="/blog/frontend/webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/blog/frontend/browser.html" class="sidebar-link">浏览器</a></li><li><a href="/blog/frontend/network.html" class="sidebar-link">网络</a></li><li><a href="/blog/frontend/safety.html" class="sidebar-link">安全</a></li><li><a href="/blog/frontend/vue.html" class="sidebar-link">Vue</a></li><li><a href="/blog/frontend/react.html" class="sidebar-link">React</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>深入浅出</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/new/" class="sidebar-link">小程序登录及封装</a></li><li><a href="/blog/new/new1.html" class="sidebar-link">服务端渲染</a></li><li><a href="/blog/new/new2.html" class="sidebar-link">函数式编程</a></li><li><a href="/blog/new/new3.html" class="sidebar-link">异步编程</a></li><li><a href="/blog/new/new4.html" class="sidebar-link">TypeScript</a></li><li><a href="/blog/new/new5.html" class="sidebar-link">Vuex 状态管理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>项目总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/project/" class="sidebar-link">Vue3 Wheel</a></li><li><a href="/blog/project/morney.html" class="sidebar-link">React Money</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>知识点补充</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/question/" aria-current="page" class="sidebar-link">Vue 补充</a></li><li><a href="/blog/question/js.html" aria-current="page" class="active sidebar-link">JS 补充</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/question/js.html#all、apply-执行效率" class="sidebar-link">all、apply 执行效率</a></li><li class="sidebar-sub-header"><a href="/blog/question/js.html#bind-两次-this-指向" class="sidebar-link">bind 两次 this 指向</a></li><li class="sidebar-sub-header"><a href="/blog/question/js.html#函数柯里化" class="sidebar-link">函数柯里化</a></li><li class="sidebar-sub-header"><a href="/blog/question/js.html#数据类型判断" class="sidebar-link">数据类型判断</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <h2 id="all、apply-执行效率"><a href="#all、apply-执行效率" class="header-anchor">#</a> all、apply 执行效率</h2> <div class="language- extra-class"><pre class="language-text"><code>function callTest() { console.log(this); }
function applyTest() { console.log(this); }

const obj = {};

callTest.call(obj, arg1, arg2, arg3);
applyTest.apply(obj, [arg1, arg2, arg3]);
</code></pre></div><blockquote><p>call 和 apply 之间，call 的性能更好</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>applyTest.apply(obj, [arg1, arg2, arg3]);

function apply() {
    this.call(obj, [...arguments]);
}
</code></pre></div><p>其实在底层运行上，apply 在调用 apply 的时候，还需要对传入的第二个参数进行解构赋值。
所以从运行的效率的角度上来说，call 少了一次解构赋值，运行效率会比 apply 会更高。</p> <blockquote><p>ES6 里面的 call 还能用解构来传参</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>const f = function (a, b, c) {
  console.log(a, b, c)
}
const arr = [1, 2, 3]
f.call(null, ...arr)
</code></pre></div><h2 id="bind-两次-this-指向"><a href="#bind-两次-this-指向" class="header-anchor">#</a> bind 两次 this 指向</h2> <blockquote><p>bind() 方法创建一个新的函数，在 bind() 被调用时，这个新函数的 this 被指定为 bind() 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。</p></blockquote> <p>bind 方法与 call / apply 最大的不同就是前者返回一个绑定上下文的函数，而后两者是直接执行了函数。</p> <div class="language- extra-class"><pre class="language-text"><code>let value = 2;
let foo = {
  value: 1
};
function bar(name, age) {
  return {
    value: this.value,
    name: name,
    age: age
  }
};

// 直接执行了函数
bar.call(foo, &quot;Jack&quot;, 20);
// {value: 1, name: &quot;Jack&quot;, age: 20}

// 返回一个函数
let bind1 = bar.bind(foo, &quot;Jack&quot;, 20);
bind1();
// {value: 1, name: &quot;Jack&quot;, age: 20}

// 返回一个函数
let bind2 = bar.bind(foo, &quot;Jack&quot;);
bind2(20);
// {value: 1, name: &quot;Jack&quot;, age: 20}
</code></pre></div><p>bind 有如下特性：</p> <ul><li>指定 this</li> <li>传入参数</li> <li>返回一个函数</li> <li>柯里化</li></ul> <p><strong>模拟实现 bind</strong></p> <div class="language- extra-class"><pre class="language-text"><code>Function.prototype.bind = function (context) {
  // 调用 bind 的不是函数，需要抛出异常
  if (typeof this !== &quot;function&quot;) {
    throw new Error(&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;);
  }

  // this 指向调用者
  var self = this;

  // 实现第2点：第1个参数是指定的this,只截取第1个之后的参数
  var args = Array.prototype.slice.call(arguments, 1);

  // 实现第3点：返回一个函数
  return function () {
    // 实现第4点：arguments是指bind返回的函数传入的参数
    // 即 return function 的参数
    var bindArgs = Array.prototype.slice.call(arguments);
    // 实现第1点
    return self.apply( context, args.concat(bindArgs) );
  }
}
</code></pre></div><p>在第一次 bind 完 this 就已经确定，返回了一个函数出去，这个函数体内不存在 this 问题,后续无论 bind 多少次，this 都指向第一次 bind 传入的 context，但是后面 bind 再传入的参数会生效。</p> <h2 id="函数柯里化"><a href="#函数柯里化" class="header-anchor">#</a> 函数柯里化</h2> <p>柯里化是将 f(a,b,c) 可以被以 f(a)(b)(c) 的形式被调用的转化</p> <div class="language- extra-class"><pre class="language-text"><code>var add = function(x) {
  return function(y) {
    return x + y;
  };
};

var increment = add(1);
var addTen = add(10);

increment(2);   // 3

addTen(2);      // 12

add(1)(2);      // 3
</code></pre></div><h2 id="数据类型判断"><a href="#数据类型判断" class="header-anchor">#</a> 数据类型判断</h2> <ul><li><p>instanceof</p> <blockquote><p>instanceof 是用来判断 A 是否为 B 的实例
只能用来判断两个对象是否属于实例关系， 而不能判断一个对象实例具体属于哪种类型</p></blockquote></li></ul> <div class="language- extra-class"><pre class="language-text"><code>[] instanceof Array; // true
{} instanceof Object;// true
new Date() instanceof Date;// true

function Person(){};
new Person() instanceof Person;

[] instanceof Object; // true
new Date() instanceof Object;// true
new Person instanceof Object;// true
</code></pre></div><ul><li><p>typeof
typeof null，返回的是 object
typeof 函数，返回的是 function
typeof 对象实例，返回的是 object，这里注意，除了函数，其他的实例应该都返回的 object</p></li> <li><p>Object.prototype.toString.call</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>Object.prototype.toString.call('') ;                // [object String]
Object.prototype.toString.call(1) ;                 // [object Number]
Object.prototype.toString.call(true) ;              // [object Boolean]
Object.prototype.toString.call(Symbol());           //[object Symbol]
Object.prototype.toString.call(undefined) ;         // [object Undefined]
Object.prototype.toString.call(null) ;              // [object Null]
Object.prototype.toString.call(new Function()) ;    // [object Function]
Object.prototype.toString.call(new Date()) ;        // [object Date]
Object.prototype.toString.call([]) ;                // [object Array]
Object.prototype.toString.call(new RegExp()) ;      // [object RegExp]
Object.prototype.toString.call(new Error()) ;       // [object Error]
Object.prototype.toString.call(document) ;          // [object HTMLDocument]
Object.prototype.toString.call(window) ;            //[object global] window 是全局对象 global 的引用

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/question/" class="prev router-link-active">
        Vue 补充
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.07b64513.js" defer></script><script src="/blog/assets/js/2.54c8166e.js" defer></script><script src="/blog/assets/js/29.937c890b.js" defer></script>
  </body>
</html>
