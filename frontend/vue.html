<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue | Fanison&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="Keep Learning, Keep Growing, Keep Succeeding">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b6bfb1ac.css" as="style"><link rel="preload" href="/blog/assets/js/app.9186a8ff.js" as="script"><link rel="preload" href="/blog/assets/js/2.54c8166e.js" as="script"><link rel="preload" href="/blog/assets/js/18.061b238f.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.4b8eb1aa.js"><link rel="prefetch" href="/blog/assets/js/11.79346a8e.js"><link rel="prefetch" href="/blog/assets/js/12.7a15bbf3.js"><link rel="prefetch" href="/blog/assets/js/13.2f1f63b3.js"><link rel="prefetch" href="/blog/assets/js/14.42d2f507.js"><link rel="prefetch" href="/blog/assets/js/15.e5c590d4.js"><link rel="prefetch" href="/blog/assets/js/16.89ae9827.js"><link rel="prefetch" href="/blog/assets/js/17.53815d8e.js"><link rel="prefetch" href="/blog/assets/js/19.3ba159ee.js"><link rel="prefetch" href="/blog/assets/js/20.17b5d869.js"><link rel="prefetch" href="/blog/assets/js/21.efd748ec.js"><link rel="prefetch" href="/blog/assets/js/22.a2cdb77c.js"><link rel="prefetch" href="/blog/assets/js/23.f431a037.js"><link rel="prefetch" href="/blog/assets/js/24.8f9e0122.js"><link rel="prefetch" href="/blog/assets/js/25.5ad8e0c3.js"><link rel="prefetch" href="/blog/assets/js/26.a645457f.js"><link rel="prefetch" href="/blog/assets/js/27.d1f08117.js"><link rel="prefetch" href="/blog/assets/js/28.ed132f17.js"><link rel="prefetch" href="/blog/assets/js/29.88de95fd.js"><link rel="prefetch" href="/blog/assets/js/3.415de851.js"><link rel="prefetch" href="/blog/assets/js/4.9f593b04.js"><link rel="prefetch" href="/blog/assets/js/5.b610c8cf.js"><link rel="prefetch" href="/blog/assets/js/6.7b1f2309.js"><link rel="prefetch" href="/blog/assets/js/7.2de44a20.js"><link rel="prefetch" href="/blog/assets/js/8.09400244.js"><link rel="prefetch" href="/blog/assets/js/9.2a183b34.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b6bfb1ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Fanison's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/frontend/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目总结" class="dropdown-title"><span class="title">项目总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目总结" class="mobile-dropdown-title"><span class="title">项目总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/project/" class="nav-link">
  Vue3 Wheel
</a></li><li class="dropdown-item"><!----> <a href="/blog/project/morney.html" class="nav-link">
  React Money
</a></li><li class="dropdown-item"><!----> <a href="https://yafanisonya.github.io/note/money/note.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue Money
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://yafanisonya.github.io/note/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  学习笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/yafanisonya" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/frontend/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目总结" class="dropdown-title"><span class="title">项目总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目总结" class="mobile-dropdown-title"><span class="title">项目总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/project/" class="nav-link">
  Vue3 Wheel
</a></li><li class="dropdown-item"><!----> <a href="/blog/project/morney.html" class="nav-link">
  React Money
</a></li><li class="dropdown-item"><!----> <a href="https://yafanisonya.github.io/note/money/note.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue Money
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://yafanisonya.github.io/note/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  学习笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/yafanisonya" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/blog/cv/" class="sidebar-link">简历</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/frontend/" aria-current="page" class="sidebar-link">手写代码</a></li><li><a href="/blog/frontend/fr002.html" class="sidebar-link">JS进阶</a></li><li><a href="/blog/frontend/fr003.html" class="sidebar-link">JS 基础</a></li><li><a href="/blog/frontend/fr004.html" class="sidebar-link">HTML、CSS、DOM</a></li><li><a href="/blog/frontend/typescript.html" class="sidebar-link">TypeScript</a></li><li><a href="/blog/frontend/webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/blog/frontend/browser.html" class="sidebar-link">浏览器</a></li><li><a href="/blog/frontend/network.html" class="sidebar-link">网络</a></li><li><a href="/blog/frontend/safety.html" class="sidebar-link">安全</a></li><li><a href="/blog/frontend/vue.html" aria-current="page" class="active sidebar-link">Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/frontend/vue.html#vue-2-生命周期" class="sidebar-link">Vue 2 生命周期</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/vue.html#vue-2-组件间通信方式" class="sidebar-link">Vue 2 组件间通信方式</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/vue.html#vuex" class="sidebar-link">Vuex</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/vue.html#vuerouter" class="sidebar-link">VueRouter</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/vue.html#vue-2-双向绑定" class="sidebar-link">Vue 2 双向绑定</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/vue.html#vue-3-proxy" class="sidebar-link">Vue 3 Proxy</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/vue.html#vue-3-composition-api" class="sidebar-link">Vue 3 Composition API</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/vue.html#vue-3-对比-vue-2-改动" class="sidebar-link">Vue 3 对比 Vue 2 改动</a></li></ul></li><li><a href="/blog/frontend/react.html" class="sidebar-link">React</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>深入浅出</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/new/" class="sidebar-link">小程序登录及封装</a></li><li><a href="/blog/new/new1.html" class="sidebar-link">服务端渲染</a></li><li><a href="/blog/new/new2.html" class="sidebar-link">函数式编程</a></li><li><a href="/blog/new/new3.html" class="sidebar-link">异步编程</a></li><li><a href="/blog/new/new4.html" class="sidebar-link">TypeScript</a></li><li><a href="/blog/new/new5.html" class="sidebar-link">Vuex 状态管理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>项目总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/project/" class="sidebar-link">Vue3 Wheel</a></li><li><a href="/blog/project/morney.html" class="sidebar-link">React Money</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>知识点补充</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/question/" class="sidebar-link">Vue 补充</a></li><li><a href="/blog/question/js.html" class="sidebar-link">JS 补充</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="vue-2-生命周期"><a href="#vue-2-生命周期" class="header-anchor">#</a> Vue 2 生命周期</h2> <p><img src="https://i.imgur.com/ATGMxLM.png" alt="生命周期">
每个 Vue 实例在创建时都会经历从创建、初始化、编译模版、挂载 Dom -&gt; 渲染、更新 -&gt; 渲染、卸载等一系列过程，这就是 Vue 的生命周期。</p> <p>vue 生命周期钩子，在某一阶段时去触发的函数，目的是为了完成一些动作或者事件</p> <ul><li><p>create 阶段：vue 实例被创建</p> <ul><li>beforeCreate: 创建前，此时 data 和 methods 中的数据都还没有初始化</li> <li>created： 创建完成，属性已经绑定， 但还未生成真实 dom</li></ul></li> <li><p>mount 阶段： vue 实例被挂载到真实 DOM 节点</p> <ul><li>beforeMount：模板编译/挂载之前</li> <li>mounted: 组件已挂载，此时可以操作 Dom</li></ul></li> <li><p>update 阶段：当 vue 实例里面的 data 数据变化时，触发组件的重新渲染</p> <ul><li>beforeUpdate updated</li></ul></li> <li><p>destroy 阶段：vue 实例被销毁</p> <ul><li>beforeDestroy destroyed</li></ul></li></ul> <blockquote><p>数据请求放在 mounted</p></blockquote> <h2 id="vue-2-组件间通信方式"><a href="#vue-2-组件间通信方式" class="header-anchor">#</a> Vue 2 组件间通信方式</h2> <ol><li><p>父子组件：使用「props / $emit」进行通信</p></li> <li><p>爷孙组件：
a. 使用两次父子组件间通信来实现
b. 使用「provide + inject」来通信</p></li> <li><p>任意组件：使用 eventBus = new Vue() 来通信
a. 主要 API 是 eventBus.$on 和 eventBus.$emit
b. 缺点是事件多了就很乱，难以维护</p></li> <li><p>任意组件：使用 Vuex 通信（Vue 3 可用 Pinia 代替 Vuex）</p></li></ol> <h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> Vuex</h2> <p>Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式 + 库</p> <p>主要包括以下几个模块：</p> <ul><li>State：定义了应用状态的数据结构，可以在这里设置默认的初始状态。</li> <li>Getter：允许组件从 Store 中获取数据，mapGetters 辅助函数仅仅是将 store 中的 getter 映射到局部计算属性。</li> <li>Mutation：是唯一更改 store 中状态的方法，且必须是同步函数。</li> <li>Action：用于提交 mutation，而不是直接变更状态，可以包含任意异步操作。</li> <li>Module：允许将单一的 Store 拆分为多个 store 且同时保存在单一的状态树中。</li></ul> <blockquote><p>Mutation 和 Action 分开原因：为了让代码更易于维护</p></blockquote> <h2 id="vuerouter"><a href="#vuerouter" class="header-anchor">#</a> VueRouter</h2> <p>Vue Router 是 Vue.js 的官方路由。它与 Vue.js 核心深度集成，让用 Vue.js 构建单页应用变得轻而易举。</p> <ul><li><p>mode</p> <ul><li>hash</li> <li>history</li></ul></li> <li><p>router-link：在不重新加载页面的情况下更改 URL</p></li> <li><p>router-view：将显示与 url 对应的组件</p></li> <li><p>跳转</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>this.$router.push()

&lt;router-link to=&quot;&quot;&gt;&lt;/router-link&gt;
</code></pre></div><blockquote><p>$route 和 $router 区别</p></blockquote> <ul><li>router 为 VueRouter 的实例，是一个全局路由对象，包含了路由跳转的方法（push,replace)、钩子函数等。</li> <li>route 是路由信息对象，每一个路由都会有一个 route 对象，是一个局部对象，包含 path,params,hash,query,fullPath,matched,name 等路由信息参数。</li></ul> <blockquote><p>Hash 模式和 History 模式区别</p></blockquote> <ul><li>一个用的 Hash，一个用的 History API</li> <li>一个不需要后端 nginx 配合，一个需要</li></ul> <h3 id="导航守卫"><a href="#导航守卫" class="header-anchor">#</a> 导航守卫</h3> <p>vue-router 提供的导航守卫主要用来通过跳转或取消的方式守卫导航
全局守卫、路由守卫、组件守卫</p> <p>全局守卫：</p> <ul><li>router.beforeEach 全局前置守卫</li> <li>router.beforeResolve 全局解析守卫</li> <li>router.afterEach 全局后置钩子</li></ul> <p>路由独享守卫：beforeEnter</p> <p>组件内的守卫：</p> <ul><li>beforeRouteEnter</li> <li>beforeRouteUpdate</li> <li>beforeRouteLeave</li></ul> <p>导航守卫实现登录控制</p> <div class="language- extra-class"><pre class="language-text"><code>router.beforeEach((to, from, next) =&gt; {
  if (to.path === '/login')
    return next()
  if (to 是受控页面 &amp;&amp; 没有登录)
    return next('/login')

  next()
})
</code></pre></div><h2 id="vue-2-双向绑定"><a href="#vue-2-双向绑定" class="header-anchor">#</a> Vue 2 双向绑定</h2> <p>使用 v-model / .sync 实现，
<code>v-model</code> 是 v-bind:value 和 von:input 的语法糖</p> <ul><li>v-bind:value 实现了 data ⇒ UI 的单向绑定</li> <li>v-on:input 实现了 UI ⇒ data 的单向绑定</li> <li>加起来就是双向绑定了</li></ul> <p>这两个单向绑定是如何实现？</p> <p>a. 前者通过 Object.defineProperty API 给 data 创建 getter 和 setter，用于监听
data 的改变，data 一变就会安排改变 UI</p> <p>b. 后者通过 template compiler 给 DOM 添加事件监听，DOM input 的值变了就
会去修改 data。</p> <h2 id="vue-3-proxy"><a href="#vue-3-proxy" class="header-anchor">#</a> Vue 3 Proxy</h2> <ol><li>弥补 Object.defineProperty 的两个不足
<ul><li>动态创建的 data 属性需要用 Vue.set 来赋值，Vue 3 用了 Proxy 就不需要了</li> <li>基于性能考虑，Vue 2 篡改了数组的 7 个 API，Vue 3 用了 Proxy 就不需要了</li></ul></li> <li>defineProperty 需要提前递归地遍历 data 做到响应式，而 Proxy 可以在真正用到
深层数据的时候再做响应式（惰性）</li></ol> <h2 id="vue-3-composition-api"><a href="#vue-3-composition-api" class="header-anchor">#</a> Vue 3 Composition API</h2> <ol><li><p>Composition API 比 mixins、高阶组件、extends、Renderless Components 等更好，原因有三：</p> <ul><li>模版中的数据来源不清晰</li> <li>命名空间冲突</li> <li>性能</li></ul></li> <li><p>更适合 TypeScript</p></li></ol> <h2 id="vue-3-对比-vue-2-改动"><a href="#vue-3-对比-vue-2-改动" class="header-anchor">#</a> Vue 3 对比 Vue 2 改动</h2> <ol><li>createApp() 代替了 new Vue()</li> <li>v-model 代替了以前的 v-model 和 .sync</li> <li>根元素可以有不止一个元素</li> <li>新增 Teleport 传送门</li> <li>ref 属性支持函数</li> <li>响应式原理改变: 使用 Proxy 取代 Object.defineProperty</li> <li>生命周期
<ul><li>使用 setup 代替之前的 beforeCreate 和 created</li> <li>destroyed 被改名为 unmounted</li></ul></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/frontend/safety.html" class="prev">
        安全
      </a></span> <span class="next"><a href="/blog/frontend/react.html">
        React
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.9186a8ff.js" defer></script><script src="/blog/assets/js/2.54c8166e.js" defer></script><script src="/blog/assets/js/18.061b238f.js" defer></script>
  </body>
</html>
