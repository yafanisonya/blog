<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React Money | Fanison&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="Keep Learning, Keep Growing, Keep Succeeding">
    
    <link rel="preload" href="/blog/assets/css/0.styles.b6bfb1ac.css" as="style"><link rel="preload" href="/blog/assets/js/app.9a0e1f5b.js" as="script"><link rel="preload" href="/blog/assets/js/2.54c8166e.js" as="script"><link rel="preload" href="/blog/assets/js/26.dc563bbe.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.99642b26.js"><link rel="prefetch" href="/blog/assets/js/11.e150a752.js"><link rel="prefetch" href="/blog/assets/js/12.92b74095.js"><link rel="prefetch" href="/blog/assets/js/13.419ab80d.js"><link rel="prefetch" href="/blog/assets/js/14.2449c10f.js"><link rel="prefetch" href="/blog/assets/js/15.808a0e54.js"><link rel="prefetch" href="/blog/assets/js/16.8ebff152.js"><link rel="prefetch" href="/blog/assets/js/17.e843b127.js"><link rel="prefetch" href="/blog/assets/js/18.990df311.js"><link rel="prefetch" href="/blog/assets/js/19.3ad9ffc8.js"><link rel="prefetch" href="/blog/assets/js/20.c6418096.js"><link rel="prefetch" href="/blog/assets/js/21.222b5698.js"><link rel="prefetch" href="/blog/assets/js/22.2d6cae4c.js"><link rel="prefetch" href="/blog/assets/js/23.3000f638.js"><link rel="prefetch" href="/blog/assets/js/24.ac02baa9.js"><link rel="prefetch" href="/blog/assets/js/25.b97c0401.js"><link rel="prefetch" href="/blog/assets/js/3.5fcfdba5.js"><link rel="prefetch" href="/blog/assets/js/4.9f593b04.js"><link rel="prefetch" href="/blog/assets/js/5.b610c8cf.js"><link rel="prefetch" href="/blog/assets/js/6.7b1f2309.js"><link rel="prefetch" href="/blog/assets/js/7.a0973503.js"><link rel="prefetch" href="/blog/assets/js/8.fca4ae6a.js"><link rel="prefetch" href="/blog/assets/js/9.d2c4f69e.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b6bfb1ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Fanison's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/frontend/" class="nav-link">
  前端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目总结" class="dropdown-title"><span class="title">项目总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目总结" class="mobile-dropdown-title"><span class="title">项目总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/project/" class="nav-link router-link-active">
  Vue3 Wheel
</a></li><li class="dropdown-item"><!----> <a href="https://yafanisonya.github.io/note/money/note.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue Money
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://yafanisonya.github.io/note/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  学习笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/yafanisonya" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/frontend/" class="nav-link">
  前端
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目总结" class="dropdown-title"><span class="title">项目总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目总结" class="mobile-dropdown-title"><span class="title">项目总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/project/" class="nav-link router-link-active">
  Vue3 Wheel
</a></li><li class="dropdown-item"><!----> <a href="https://yafanisonya.github.io/note/money/note.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue Money
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://yafanisonya.github.io/note/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  学习笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/yafanisonya" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/blog/cv/" class="sidebar-link">简历</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/frontend/" class="sidebar-link">手写代码</a></li><li><a href="/blog/frontend/fr002.html" class="sidebar-link">JS进阶</a></li><li><a href="/blog/frontend/fr003.html" class="sidebar-link">JS 基础</a></li><li><a href="/blog/frontend/fr004.html" class="sidebar-link">HTML、CSS、DOM</a></li><li><a href="/blog/frontend/typescript.html" class="sidebar-link">TypeScript</a></li><li><a href="/blog/frontend/webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/blog/frontend/browser.html" class="sidebar-link">浏览器</a></li><li><a href="/blog/frontend/network.html" class="sidebar-link">网络</a></li><li><a href="/blog/frontend/safety.html" class="sidebar-link">安全</a></li><li><a href="/blog/frontend/vue.html" class="sidebar-link">Vue</a></li><li><a href="/blog/frontend/react.html" class="sidebar-link">React</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>深入浅出</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/new/new1.html" class="sidebar-link">服务端渲染</a></li><li><a href="/blog/new/new2.html" class="sidebar-link">函数式编程</a></li><li><a href="/blog/new/new3.html" class="sidebar-link">异步编程</a></li><li><a href="/blog/new/new4.html" class="sidebar-link">TypeScript</a></li><li><a href="/blog/new/new5.html" class="sidebar-link">Vuex 状态管理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>项目总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/project/" aria-current="page" class="sidebar-link">Vue3 Wheel</a></li><li><a href="/blog/project/morney.html" aria-current="page" class="active sidebar-link">React Money</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/project/morney.html#css-normalize、css-reset" class="sidebar-link">CSS Normalize、CSS Reset</a></li><li class="sidebar-sub-header"><a href="/blog/project/morney.html#dart-sass、-node-sass-区别" class="sidebar-link">dart-sass、 node-sass 区别</a></li><li class="sidebar-sub-header"><a href="/blog/project/morney.html#import-配置路径别名" class="sidebar-link">import 配置路径别名</a></li><li class="sidebar-sub-header"><a href="/blog/project/morney.html#styled-components" class="sidebar-link">styled-components</a></li><li class="sidebar-sub-header"><a href="/blog/project/morney.html#react-router-dom" class="sidebar-link">react-router-dom</a></li><li class="sidebar-sub-header"><a href="/blog/project/morney.html#webpack-引入-svg-sprite-loader" class="sidebar-link">webpack 引入 svg-sprite-loader</a></li><li class="sidebar-sub-header"><a href="/blog/project/morney.html#自定义-hook" class="sidebar-link">自定义 HOOK</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="css-normalize、css-reset"><a href="#css-normalize、css-reset" class="header-anchor">#</a> CSS Normalize、CSS Reset</h2> <ul><li><p><strong>CSS Normalize</strong> :</p> <ul><li>在 index.css 添加 @import-normalize</li> <li>保证页面在不同浏览器上默认样式相近</li></ul></li> <li><p><strong>CSS Reset</strong></p> <ul><li>重置浏览器的默认样式</li></ul></li></ul> <h2 id="dart-sass、-node-sass-区别"><a href="#dart-sass、-node-sass-区别" class="header-anchor">#</a> dart-sass、 node-sass 区别</h2> <blockquote><p>Dart Sass 是 Sass 的主要实现，最新的特性都会在这个上面先实现，快速、易于安装，并且可以编译为纯 JavaScript，从而可以轻松集成到现代 Web 开发工作流中。</p></blockquote> <ul><li><p>node-sass 是用 node (调用 cpp 编写的 libsass) 来编译 sass。</p></li> <li><p>dart-sass 是用 drat VM 来编译 sass。</p></li> <li><p>node-sass 是实时自动编译的，dart-sass 需要保存后才会生效。</p></li></ul> <h2 id="import-配置路径别名"><a href="#import-配置路径别名" class="header-anchor">#</a> import 配置路径别名</h2> <ul><li>@import 'xxx/yyy' 引入 src/xxx/yyy.scss</li> <li>import 'xxx/yyy.tsx' 引入 src/xxx/yyy.tsx</li></ul> <blockquote><p>在 tsconfig.json 添加 &quot;baseUrl&quot;:&quot;src&quot;</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;compilerOptions&quot;: {
    &quot;baseUrl&quot;: &quot;src&quot;,
  },
  &quot;include&quot;: [
    &quot;src&quot;
  ]
}
</code></pre></div><h2 id="styled-components"><a href="#styled-components" class="header-anchor">#</a> styled-components</h2> <p><strong>CSS-in-JS</strong>：将 CSS 样式写在 JS 文件里面</p> <p><strong>如何使用</strong></p> <ul><li>安装 yarn add styled-components</li> <li>安装 ts 类型声明文件 yarn add --dev @types/styled-components</li> <li>vscode 插件 vscode-styled-components</li></ul> <div class="language- extra-class"><pre class="language-text"><code>import React from 'react';

import styled from 'styled-components';

const Title = styled.h1`
  font-size: 1.5em;
  text-align: center;
  color: palevioletred;
`;

const Wrapper = styled.section`
  padding: 4em;
  background: papayawhip;
`;

&lt;Wrapper&gt;
  &lt;Title&gt;Hello World&lt;/Title&gt;
&lt;/Wrapper&gt;
</code></pre></div><h2 id="react-router-dom"><a href="#react-router-dom" class="header-anchor">#</a> react-router-dom</h2> <p><strong>如何使用</strong></p> <ul><li>yarn add react-router-dom</li> <li>yarn add --dev @types/react-router-dom</li></ul> <h2 id="webpack-引入-svg-sprite-loader"><a href="#webpack-引入-svg-sprite-loader" class="header-anchor">#</a> webpack 引入 svg-sprite-loader</h2> <blockquote><p>create-react-app 安装以后，没有 webpack 相关的配置的目录，通过 yarn eject 进行自定义配置</p></blockquote> <p><strong>svg 雪碧图</strong>:利用 svg 的 symbol 元素，将每个 icon 包括在 symbol 中，通过 use 元素使用该 symbol.</p> <p><strong>原理</strong></p> <ul><li>symbol + use:xlink:href</li> <li>svg-sprite-loader 生成雪碧图</li> <li>require.context 动态引入所有文件</li></ul> <p><strong>如何配置</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
  test: /\.svg$/,
  use: [
    { loader: 'svg-sprite-loader', options: {} },
    {
      loader: 'svgo-loader', options: {
        plugins: [
          { removeAttrs: { attrs: 'fill' } }
        ]
      }
    }
  ]
},
</code></pre></div><p><strong>如何使用</strong></p> <div class="language- extra-class"><pre class="language-text"><code>// 引入单个
require('icons/money.svg')

&lt;svg&gt;
  &lt;use xlinkHref=&quot;#money&quot;&gt;
&lt;/svg&gt;

// 引入多个
import React from 'react';
import cs from 'classnames';

let importAll = (requireContext: __WebpackModuleApi.RequireContext) =&gt;
	requireContext.keys().forEach(requireContext);
try {
	importAll(require.context('icons', true, /\.svg$/));
} catch (error) {
	console.log(error);
}

type Props = {
	name?: string;
} &amp; React.SVGAttributes&lt;SVGElement&gt;

const Icon = (props: Props) =&gt; {
	const {name, children, className, ...rest} = props
	return (
		&lt;svg className={cs('icon',className)} {...rest}&gt;
			{props.name &amp;&amp; &lt;use xlinkHref={'#' + props.name}&gt;&lt;/use&gt;}
		&lt;/svg&gt;
	);
};

export default Icon;
</code></pre></div><h2 id="自定义-hook"><a href="#自定义-hook" class="header-anchor">#</a> 自定义 HOOK</h2> <div class="language- extra-class"><pre class="language-text"><code>import {useState, useEffect} from 'react';
import {createId} from 'lib/createId';
import {useUpdate} from 'hooks/useUpdate';

const useTags = ()=&gt;{
  const [tags,setTags] = useState&lt;{id:number;name:string}[]&gt;([]);
  useEffect(()=&gt;{
    let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');
    if(localTags.length === 0){
      localTags = [
        {id:createId(),name:'衣'},
        {id:createId(),name:'食'},
        {id:createId(),name:'住'},
        {id:createId(),name:'行'}
      ];
    }
    setTags(localTags);
  },[]);

  useUpdate(()=&gt;{
    window.localStorage.setItem('tags',JSON.stringify(tags));
  },[tags]);

  const findTag = (id:number) =&gt; tags.filter(tag =&gt; tag.id === id)[0];

  const updateTag = (id:number, {name}: {name: string}) =&gt;{
    setTags(tags.map(tag =&gt; tag.id === id ? {id,name:name} : tag));
  };

  const deleteTag = (id:number) =&gt; {
    setTags(tags.filter(tag =&gt; tag.id !== id));
  };　

  const addTag = ()=&gt;{
    const tagName = window.prompt('新增的名称为：');
    if(tagName !== null &amp;&amp; tagName !== ''){
      setTags([...tags,{id: createId(), name: tagName}]);
    }
  };

  const getName = (id:number) =&gt;{
    const tag = tags.filter(t =&gt; t.id === id)[0];
    return tag ?　tag.name: '';
  };

  return {tags,getName,addTag,setTags,findTag,updateTag,deleteTag};
};

export {useTags};
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/project/" class="prev router-link-active">
        Vue3 Wheel
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.9a0e1f5b.js" defer></script><script src="/blog/assets/js/2.54c8166e.js" defer></script><script src="/blog/assets/js/26.dc563bbe.js" defer></script>
  </body>
</html>
